{% extends "web/base.html" %}
{% block content %}
<div class="container mt-4">
  <h3>Search Customer</h3>
  <form method="get" class="mb-3">
    <input type="text" name="q" value="{{ query }}" class="form-control" placeholder="Search by name or email...">
  </form>

  <ul class="list-group">
    {% for c in customers %}
      <li class="list-group-item d-flex justify-content-between align-items-center">
        <div>
          {{ c.name }}{% if c.email %} ({{ c.email }}){% endif %}
          {% if c.has_open %} <span class="badge text-bg-warning ms-2">Open order</span>{% endif %}
        </div>
        <div class="d-flex gap-2">
          {% comment %} <a href="{% url 'order_detail' c.id %}" class="btn btn-sm btn-outline-secondary">View Orders</a> {% endcomment %}
          <a href="{% url 'order_create_for_customer' c.id %}" class="btn btn-sm btn-primary">New Order</a>
        </div>
      </li>
    {% empty %}
      <li class="list-group-item">No customers found.</li>
    {% endfor %}
  </ul>
</div>
{% endblock %}
